---
sidebar_position: 2
title: Custom integration
---
<head>
    <title>Custom client integrations | Mocky Balboa</title>
</head>

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Custom Mocky Balboa client integration

If you need a custom integration for Mocky Balboa, you can use the `@mocky-balboa/client` package to integrate with your browser automation framework. There are a few things to keep in mind when setting up the integration:

1. Ensure you connect the client to the Mocky Balboa server before executing any tests.
1. Listen for error messages on the client and handle them appropriately.
1. When you close the browser, make sure to disconnect the client from the Mocky Balboa server.

## Installation

<Tabs groupId="package-manager">
  <TabItem value="pnpm" label="pnpm" default>
      ```bash
      pnpm add -D @mocky-balboa/client
      ```
    </TabItem>
  <TabItem value="npm" label="npm">
    ```bash
    npm install -D @mocky-balboa/client
    ```
  </TabItem>
  <TabItem value="yarn" label="yarn">
    ```bash
    yarn add -D @mocky-balboa/client
    ```
  </TabItem>
</Tabs>

## Creating and connecting the client

The following example demonstrates how to create and connect a client to the Mocky Balboa server:

<Tabs groupId="javascript-language">
  <TabItem value="typescript" label="TypeScript" default>
        ```TypeScript
        import {
          Client,
          MessageType,
          type MessageTypes,
          type ParsedMessageType,
        } from '@mocky-balboa/client';

        const client = new Client();

        client.on(
          MessageType.ERROR,
          (message: ParsedMessageType<MessageTypes["ERROR"]>) => {
            // Handle the error here.
            // Suggestion: Log the error and close the browser
          },
        );

        await client.connect();
        ```
  </TabItem>
  <TabItem value="javascript" label="JavaScript">
      ```JavaScript
      import {
        Client,
        MessageType,
      } from '@mocky-balboa/client';

      const client = new Client();

      client.on(
        MessageType.ERROR,
        (message) => {
          // Handle the error here.
          // Suggestion: Log the error and close the browser
        },
      );

      await client.connect();
      ```
  </TabItem>
</Tabs>

Make sure to disconnect the client from the Mocky Balboa server when you close the browser.

<Tabs groupId="javascript-language">
  <TabItem value="typescript" label="TypeScript" default>
      ```TypeScript
      client.disconnect();
      ```
  </TabItem>
  <TabItem value="javascript" label="JavaScript">
      ```JavaScript
      client.disconnect();
      ```
  </TabItem>
</Tabs>

[API reference](https://api-reference.mockybalboa.com/modules/_mocky-balboa_client.Client)
